[96m#=======================#
# Starting train_bdt.py #
#=======================#[0m
[96m  VERBOSE      = True[0m
[96m  SAVE_STAT    = 'DTOOT'[0m
[96m  OUT_DIR      = 'reports/weekly/2023-09-21b/dphi_DTOOT'[0m
[96m  BLIND_TYPE   = 'DTOOT'[0m
[96m  TRAIN_BDT    = False[0m
[96m  TEST_SIZE    = 0.8[0m
[96m  N_EVENTS     = -1[0m
[96m  DATA_VERSION = 6[0m
[96m  LUMI         = 23,020.0[0m
[96m  DATA_DIR     = 'LOCAL'[0m

[92m+------------------------+
| Building MuonSystem(s) |
+------------------------+[0m
Building MuonSystemAwkward 'Signal' -
  is_mc  = True
  events = -1
  tree   = 'MuonSystem'
  file   = '/home/psimmerl/LLP/mdc_analysis/data/raw/ggH_HToSSTobbbb_MH-125_MS-15_CTau1000_13p6TeV_1pb_weighted_v6.root'
  Extracted 1,851,400 events
Building MuonSystemAwkward 'Data' -
  is_mc  = False
  events = -1
  tree   = 'MuonSystem'
  file   = '/home/psimmerl/LLP/mdc_analysis/data/raw/DisplacedJet-EXOCSCCluster_Run2022EFG-PromptReco-v1_goodLumi_v6.root'
  Extracted 14,597,375 events
Building MuonSystemAwkward 'NoDPhiCut' -
  is_mc  = False
  events = -1
  tree   = 'MuonSystem'
  file   = '/home/psimmerl/LLP/mdc_analysis/data/raw/DisplacedJet-EXOCSCCluster_Run2022EFG-PromptReco-v1_goodLumi_v6.root'
  Extracted 14,597,375 events

[92m+-----------------------+
| Cutting MuonSystem(s) |
+-----------------------+[0m
Finished cut 'match'
Finished cut 'CSC&DT>0'
Finished cut 'L1'
Finished cut 'CSCIT'
Finished cut 'DTIT'
Finished cut 'ME1'
Finished cut 'MB1'
Finished cut 'JET'
Finished cut 'MUON'
Finished cut 'HALO'
Finished cut '1CSC1DT'
Finished cut 'DPHI'
+-------------------------------------------------------------------------+
|           MuonSystem Cuts (req. CSC>0 & DT>0 after each cut)            |
+----------++-------------------+--------------------+--------------------+
|          ||   Signal (eff.)   |    Data (eff.)     |  NoDPhiCut (eff.)  |
+----------++-------------------+--------------------+--------------------+
| read     ||       1,135,129.9 |       14,597,375.0 |       14,597,375.0 |
| match    ||          21,268.8 |                    |                    |
+----------++-------------------+--------------------+--------------------+
| CSC&DT>0 || 21,268.8 (1.0000) | 929,292.0 (1.0000) | 929,292.0 (1.0000) |
| L1       ||  7,637.4 (0.3658) | 258,787.0 (0.5299) | 258,787.0 (0.5299) |
| CSCIT    ||  7,577.6 (0.9713) | 190,757.0 (0.6201) | 190,757.0 (0.6201) |
| DTIT/OOT ||  7,453.7 (0.9835) | 156,504.0 (0.7723) | 156,504.0 (0.7723) |
| ME1      ||  3,841.2 (0.5075) | 139,811.0 (0.7534) | 139,811.0 (0.7534) |
| MB1      ||    985.3 (0.2720) |   6,132.0 (0.2571) |   6,132.0 (0.2571) |
| JET      ||    969.5 (0.8783) |   5,995.0 (0.9842) |   5,995.0 (0.9842) |
| MUON     ||    636.1 (0.4510) |   5,364.0 (0.8146) |   5,364.0 (0.8146) |
| HALO     ||    479.7 (0.7464) |   3,145.0 (0.6976) |   3,145.0 (0.6976) |
| 1CSC1DT  ||    479.7 (0.0226) |   3,104.0 (0.0033) |   3,104.0 (0.0033) |
| DPHI     ||    470.0 (0.0221) |     950.0 (0.0010) |                    |
+----------++-------------------+--------------------+--------------------+

[92m+------------------+
| Making CSC Plots |
+------------------+[0m
Saved 'cscMuonVetoPt_DTOOT.png'
Saved 'cscJetVetoPt_DTOOT.png'
Saved 'cscR_DTOOT.png'
Saved 'cscZ_DTOOT.png'
Saved 'cscPhi_DTOOT.png'
Saved 'cscEta_DTOOT.png'
Saved 'cscSize_DTOOT.png'
Saved 'cscNStation10_DTOOT.png'
Saved 'cscMaxChamber_DTOOT.png'
Saved 'cscAvgStation10_DTOOT.png'
Saved 'cscMaxStation_DTOOT.png'
Saved 'cscMe11Ratio_DTOOT.png'
Saved 'cscMe12Ratio_DTOOT.png'

[92m+-----------------+
| Making DT Plots |
+-----------------+[0m
Saved 'dtJetVetoPt_DTOOT.png'
Saved 'dtMuonVetoPt_DTOOT.png'
Saved 'dtR_DTOOT.png'
Saved 'dtZ_DTOOT.png'
Saved 'dtPhi_DTOOT.png'
Saved 'dtEta_DTOOT.png'
Saved 'dtSize_DTOOT.png'
Saved 'dt_match_RPCBx_dPhi0p5_DTOOT.png'
Saved 'dtNStation10_DTOOT.png'
Saved 'dtAvgStation10_DTOOT.png'
Saved 'dtMaxStation_DTOOT.png'
Saved 'dtNHitStation1_DTOOT.png'
Saved 'dtMb1Ratio_DTOOT.png'

[92m+-------------------------+
| Making Event/2tag Plots |
+-------------------------+[0m
Saved 'tag_dEta_DTOOT.png'
Saved 'tag_dPhi_DTOOT.png'
Saved 'tag_dR_DTOOT.png'
Saved 'nCsc_DTOOT.png'
Saved 'nDt_DTOOT.png'
Saved 'met_DTOOT.png'
Saved 'runNum_DTOOT.png'
Saved 'cscR-dtR_DTOOT.png'

[92m+-----------------+
| Making 2D Plots |
+-----------------+[0m
Saved 'cscPhi_cscR_DTOOT.png'
Saved 'cscPhi_cscEta_DTOOT.png'
Saved 'cscEta_cscR_DTOOT.png'
Saved 'dtPhi_dtR_DTOOT.png'
Saved 'dtPhi_dtEta_DTOOT.png'
Saved 'dtEta_dtR_DTOOT.png'
Saved 'cscR_dtR_DTOOT.png'
Saved 'cscPhi_dtPhi_DTOOT.png'
Saved 'cscEta_dtEta_DTOOT.png'
Saved 'tag_dPhi_met_DTOOT.png'
Saved 'tag_dPhi_tag_dEta_DTOOT.png'
Saved 'tag_dPhi_tag_dR_DTOOT.png'
Saved 'tag_dEta_tag_dR_DTOOT.png'
Saved 'tag_dPhi_cscSize_DTOOT.png'
Saved 'tag_dPhi_cscPhi_DTOOT.png'
Saved 'tag_dPhi_cscEta_DTOOT.png'
Saved 'tag_dPhi_dtSize_DTOOT.png'
Saved 'tag_dPhi_dtPhi_DTOOT.png'
Saved 'tag_dPhi_dtEta_DTOOT.png'

[92m+-------------------+
| Making ABCD Plots |
+-------------------+[0m
Saved 'ABCD_040_DTOOT.png'
Saved 'ABCD_050_DTOOT.png'
Saved 'ABCD_060_DTOOT.png'
Saved 'ABCD_070_DTOOT.png'
Saved 'ABCD_080_DTOOT.png'
Saved 'ABCD_090_DTOOT.png'
Saved 'ABCD_100_DTOOT.png'

[92m+------------------------------+
| Performing ABCD Calculations |
+------------------------------+[0m
Saved 'closure_sig_DTOOT.png'
Saved 'closure_bkg_DTOOT.png'
+---------------------------------------------------------------------------------------------------------+
|                                        ABCD (X: dPhi, Y: dtSize)                                        |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
|           | dPhi ||    Pred A     |      A       |       B        |       C        |      D      |  CL  |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.40 || 83.53 Â± 25.99 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   33.22 Â± 4.48 | 7.85 Â± 2.18 | 0.32 |
| Data      |      ||   8.18 Â± 3.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 428.00 Â± 20.69 | 7.00 Â± 2.65 | 0.41 |
| NoDPhiCut |      ||   8.18 Â± 3.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 428.00 Â± 20.69 | 7.00 Â± 2.65 | 0.41 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.50 || 84.81 Â± 27.49 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   30.20 Â± 4.27 | 7.25 Â± 2.09 | 0.35 |
| Data      |      ||   7.85 Â± 3.25 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 382.00 Â± 19.54 | 6.00 Â± 2.45 | 0.47 |
| NoDPhiCut |      ||   7.85 Â± 3.25 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 382.00 Â± 19.54 | 6.00 Â± 2.45 | 0.47 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.60 || 82.71 Â± 27.91 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   28.39 Â± 4.14 | 6.64 Â± 2.00 | 0.27 |
| Data      |      ||   7.29 Â± 3.30 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 343.00 Â± 18.52 | 5.00 Â± 2.24 | 0.59 |
| NoDPhiCut |      ||   7.29 Â± 3.30 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 343.00 Â± 18.52 | 5.00 Â± 2.24 | 0.59 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.70 || 88.35 Â± 30.01 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   26.58 Â± 4.01 | 6.64 Â± 2.00 | 0.44 |
| Data      |      ||   8.33 Â± 3.78 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 300.00 Â± 17.32 | 5.00 Â± 2.24 | 0.34 |
| NoDPhiCut |      ||   8.33 Â± 3.78 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 300.00 Â± 17.32 | 5.00 Â± 2.24 | 0.34 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.80 || 70.68 Â± 27.53 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   24.16 Â± 3.82 | 4.83 Â± 1.71 | 0.15 |
| Data      |      ||   9.54 Â± 4.33 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 262.00 Â± 16.19 | 5.00 Â± 2.24 | 0.09 |
| NoDPhiCut |      ||   9.54 Â± 4.33 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 262.00 Â± 16.19 | 5.00 Â± 2.24 | 0.09 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 0.90 || 91.20 Â± 36.36 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   18.73 Â± 3.36 | 4.83 Â± 1.71 | 0.44 |
| Data      |      ||  11.31 Â± 5.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 221.00 Â± 14.87 | 5.00 Â± 2.24 | 0.22 |
| NoDPhiCut |      ||  11.31 Â± 5.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 221.00 Â± 14.87 | 5.00 Â± 2.24 | 0.22 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
| Signal    | 1.00 || 82.46 Â± 34.78 | 74.91 Â± 6.73 | 353.39 Â± 14.61 |   18.12 Â± 3.31 | 4.23 Â± 1.60 | 0.21 |
| Data      |      ||  11.11 Â± 5.64 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 180.00 Â± 13.42 | 4.00 Â± 2.00 | 0.17 |
| NoDPhiCut |      ||  11.11 Â± 5.64 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 180.00 Â± 13.42 | 4.00 Â± 2.00 | 0.17 |
+-----------+------++---------------+--------------+----------------+----------------+-------------+------+
+--------------------------------------------------------------------------------------------------------+
|                                       ABCD (X: dPhi, Y: dtSize)                                        |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
|           | dPhi ||    Pred A    |      A       |       B        |       C        |      D      |  CL  |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.40 ||  8.18 Â± 3.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 428.00 Â± 20.69 | 7.00 Â± 2.65 | 0.41 |
| NoDPhiCut |      ||  8.18 Â± 3.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 428.00 Â± 20.69 | 7.00 Â± 2.65 | 0.41 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.50 ||  7.85 Â± 3.25 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 382.00 Â± 19.54 | 6.00 Â± 2.45 | 0.47 |
| NoDPhiCut |      ||  7.85 Â± 3.25 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 382.00 Â± 19.54 | 6.00 Â± 2.45 | 0.47 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.60 ||  7.29 Â± 3.30 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 343.00 Â± 18.52 | 5.00 Â± 2.24 | 0.59 |
| NoDPhiCut |      ||  7.29 Â± 3.30 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 343.00 Â± 18.52 | 5.00 Â± 2.24 | 0.59 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.70 ||  8.33 Â± 3.78 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 300.00 Â± 17.32 | 5.00 Â± 2.24 | 0.34 |
| NoDPhiCut |      ||  8.33 Â± 3.78 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 300.00 Â± 17.32 | 5.00 Â± 2.24 | 0.34 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.80 ||  9.54 Â± 4.33 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 262.00 Â± 16.19 | 5.00 Â± 2.24 | 0.09 |
| NoDPhiCut |      ||  9.54 Â± 4.33 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 262.00 Â± 16.19 | 5.00 Â± 2.24 | 0.09 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 0.90 || 11.31 Â± 5.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 221.00 Â± 14.87 | 5.00 Â± 2.24 | 0.22 |
| NoDPhiCut |      || 11.31 Â± 5.14 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 221.00 Â± 14.87 | 5.00 Â± 2.24 | 0.22 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
| Data      | 1.00 || 11.11 Â± 5.64 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 180.00 Â± 13.42 | 4.00 Â± 2.00 | 0.17 |
| NoDPhiCut |      || 11.11 Â± 5.64 | 10.00 Â± 3.16 | 500.00 Â± 22.36 | 180.00 Â± 13.42 | 4.00 Â± 2.00 | 0.17 |
+-----------+------++--------------+--------------+----------------+----------------+-------------+------+
Saved 'closure_scan_min_dphi_DTOOT.png'
Saved 'closure_scan_dphi_DTOOT.png'
Saved 'closure_scan_dtsize_DTOOT.png'
Saved 'closure_scan_dtstation_DTOOT.png'

[92m+------------------+
| Making ROC Plots |
+------------------+[0m
+-----------------------------------------------------------------------------------+
|                             Evaluating Discriminators                             |
+---------------++-------+--------+---------+---------+---------+---------+---------+
|               ||  AUC  | S/â[B] | Thresh  |   Sig   | Sig Eff |   Bkg   | Bkg Eff |
+---------------++-------+--------+---------+---------+---------+---------+---------+
| dtSize        || 0.786 | 23.126 | 137.120 | 180.623 |   0.384 |  61.000 |   0.064 |
| tag_dPhi      || 0.826 | 27.782 |   2.676 | 283.319 |   0.603 | 104.000 |   0.109 |
| tag_dR        || 0.804 | 24.198 |   2.929 | 289.360 |   0.616 | 143.000 |   0.151 |
| cscNStation10 || 0.654 | 17.470 |   1.000 | 257.343 |   0.548 | 217.000 |   0.228 |
| dtNStation10  || 0.327 |  6.172 |   1.000 | 146.190 |   0.311 | 561.000 |   0.591 |
| cscSize       || 0.632 | 16.036 | 264.420 | 381.183 |   0.811 | 565.000 |   0.595 |
| tag_dEta      || 0.483 | 15.281 |   0.087 | 469.985 |   1.000 | 946.000 |   0.996 |
| dtPhi.abs     || 0.501 | 15.229 |   0.402 | 469.381 |   0.999 | 950.000 |   1.000 |
+---------------++-------+--------+---------+---------+---------+---------+---------+
Saved 'rocs_DTOOT.png'

[92m+-----------------------------------------+
| Getting run number of high hit clusters |
+-----------------------------------------+[0m

[96m#=======================#
# Finished train_bdt.py #
#=======================#[0m
